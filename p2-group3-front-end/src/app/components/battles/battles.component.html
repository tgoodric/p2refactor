<div id="tableCard">

    <div class="card border-dark mb-4">
        <!-- <div class="card-header" id="cardheader">Select Your Pokemon!</div> -->
        <div *ngIf="pokemonSelected" class="card-header" id="cardheader">Pokemon:{{pokemonSelected.pokeName}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{pokemonSelected.hitPoints}} HP</div>

        <table id="poketable" class="table table-light" *ngIf="playerPokemon && !pokemonSelected">
            <thead>
                <th scope="col">Pokedex</th>
                <th scope="col">Name</th>
                <th scope="col">Level</th>
            </thead>
            <tbody>
                <tr *ngFor="let d of playerPokemon" (click)="prepareBattle(d); getApiPokemon(); getPlayerPokemon();">
                    <!-- String interpolating the values of the pokemon object   -->
                    <td>{{d.pokedexNumber}}</td>
                    <td>{{d.pokeName}}</td>
                    <td>{{d.level}}</td>
                </tr>
            </tbody>
        </table> <!--end table-->

        
        <div class="card-body" id="pokeinfo">
            <div *ngIf="!pokemonSelected && !playerPokemon" class="row" id="selectButtons">
                <!-- <input class="col-lg-3" type="number" [(ngModel)]="trainerId" /> -->
                <button class="btn btn-outline-dark" (click)="getPlayerPokemon()">View My Pokemon</button> <!--use getApi for testing-->
              </div>
              <div *ngIf="apiPokemon">
                <img src={{apiPokemon.sprites.front_shiny}}>
            </div>
            <div *ngIf="pokemonSelected">
                <p> Level: {{pokemonSelected.level}}</p>
                <p> Attack: {{pokemonSelected.attack}} damage</p>
                <p> Special Attack: {{pokemonSelected.specialAttack}} damage</p>
                <button *ngIf="!gameStart" class = "btn btn-outline-dark" (click)="battle()">Start Battle!</button>

                <!-- attack and inventory options -->
                <div *ngIf="gameStart && !gameOver" class="btn-group-vertical" id="leftElement">
                    <button *ngIf="pokemonSelected" class="btn btn-outline-dark" (click) = "attackFunc()">Attack</button>
                    <button *ngIf="pokemonSelected" class="btn btn-outline-dark" (click) = "specialAttackFunc()">Special Attack</button>
                    <!--dropdown button-->
                    <div *ngIf="apiPokemon" ngbDropdown class="d-inline-block">
                            <button class="btn btn-outline-dark" id="dropdownBasic1" ngbDropdownToggle>Use Item</button>
                        <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                            <!-- <button ngbDropdownItem (click) = "somefunc()">Potion1</button>
                            <button ngbDropdownItem (click) = "somefunc()">Potion2</button> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>    
</div><!--end tableCard-->

<div class="card-centered">
    <div class="card border-dark mb-3">
        <div class="battleImgStack">
            <img id="baseImg" class="card-img-top" src="../../../assets/battleBackground.jpg" alt="Card image cap">
            <div class="imgOverlay">
                <img *ngIf="apiPokemon" id="pokemonLCorner" src="{{apiPokemon.sprites.back_shiny}}" alt=""> <!--{{playerPokemon}}-->
                <img *ngIf="enemyPokemon" id="pokemonRCorner" src="{{enemyPokemon.sprites.front_shiny}}" alt=""> <!--{{enemyPokemon}}-->
            </div> <!--child div end-->
        </div> <!--parent div end-->
        <div class="card-body">
            <h5 class="card-text overflow-auto">Battle!</h5>
            <div class="card-text overflow-auto" style="height: 180px;">

                <!-- this text only displays before either player makes a move-->
                <div *ngIf="!firstMove">
                <p *ngIf="enemyPokemon">You encountered a wild {{enemyPokemon.name}}!</p>
                <p *ngIf="apiPokemon">You chose {{apiPokemon.name}}!</p>

                <p *ngIf="!myTurn && pokemonSelected">Opponent's move...</p>
                </div>

                <!-- this text displays once the battle starts -->
                <div *ngIf="firstMove">
                    {{firstMove}} <br><br>
                    {{secondMove}}<br><br>
                </div>

                <div *ngIf="myTurn && gameStart && !gameOver">
                    Your move...
                </div>

                <!-- display this text when the game is over -->
                <div *ngIf="gameStart && gameOver">
                    {{gameOverNar}}
                </div>
          
                 <p >{{cookieValue}}</p>


            </div>
        </div>
        <div class="card-body">
        </div>
        <div class="card-body" style="border: solid; border-width: 1px;">
            <a href="/forest" class="card-link">Travel to Haunted Forest</a>
            <a href="/cave" class="card-link">Travel to Caves of Despair</a>
          </div>
    </div>
</div>